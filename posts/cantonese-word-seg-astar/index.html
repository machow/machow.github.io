<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="keyword 1, keyword 2, keyword 3" name="keywords">
<meta content="Michael Chow" name="author">
<meta property="og:title" content="Cantonese word segmentation with A* - Michael Chow">
<meta property="og:url" content="/posts/cantonese-word-seg-astar/">
<meta property="og:description" content="Your description here">
<meta property="og:type" content="website" />
<title>Cantonese word segmentation with A* | Michael Chow</title>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<link rel="stylesheet" href="/css/style.css">
<link rel="shortcut icon" href="/wave.ico">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css">

</head>

<body>
<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="/"><h1 class="title is-4">Michael Chow</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/machow" target="_blank">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/chowthedog" target="_blank">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://linkedin.com/in/michael-a-chow/" target="_blank">
            <span class="icon">
              <i class="fa fa-linkedin-square"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h1 class="title">Cantonese word segmentation with A*</h1>
    <h2 class="subtitle is-5">November 20, 2018 by Michael Chow</h2>
    
    <div class="content">
      <pre class="r"><code>library(reticulate)
reticulate::use_virtualenv(&quot;machow-web2&quot;)</code></pre>
<div id="intro" class="section level1">
<h1>Intro</h1>
<ul>
<li>cantonese not much corpus data</li>
<li>can’t take advantage of frequency data</li>
<li>simple, dictionary based approaches can still be powerful!</li>
</ul>
<div id="overview-of-a-approach" class="section level2">
<h2>Overview of A* approach</h2>
<p>“你等咗好耐喇”</p>
<ul>
<li>positions are nodes, possible words are edges</li>
<li>assign cost to edge (word length)</li>
<li>need to handle final paths with equal costs
<ul>
<li>reverse sort neighbors (explain heap)</li>
</ul></li>
</ul>
</div>
<div id="comparison-to-left-to-right-greedy-matching" class="section level2">
<h2>Comparison to left-to-right greedy matching</h2>
<div id="issues-with-both-approaches" class="section level3">
<h3>Issues with both approaches</h3>
<pre class="python"><code>import sys
from cantocut import searcher
def collapse(entries):
  return &quot; &quot;.join(x[&quot;word&quot;] for x in out if x[&quot;is_vocab&quot;])
# General issue: 你好似 - 你好 vs 好似
# indeterminable based on simple rule (e.g. always first vs always last)
# 你好 is too aggressive
out = searcher(&quot;最近你好似好少執屋咁喎&quot;)
print(collapse(out))</code></pre>
<pre><code>## 最近 你好 似 好 少 執屋 咁 喎</code></pre>
</div>
<div id="lr-issue-1---aggressive-early-pair" class="section level3">
<h3>LR issue 1 - aggressive early pair</h3>
<pre class="python"><code># LR issue: 你等咗好耐 - 你等 咗 好耐 vs 你 等咗好耐
out = searcher(&quot;你等咗好耐喇&quot;)
print(collapse(out))</code></pre>
<pre><code>## 你 等咗好耐 喇</code></pre>
</div>
<div id="lr-issue-2---greedy-3-1-chunks-vs-2-2-chunks" class="section level3">
<h3>LR issue 2 - greedy 3 + 1 chunks vs 2 + 2 chunks</h3>
<pre class="python"><code># LR issue: 你唔使做嘢 - 唔使做 嘢 vs 唔使 做嘢
# is 2 + 2 better than 1 + 3 chunks?
# in this case, yes
# related:
#  - 唔係幾好
#  - 唔好講笑
# in this case, maybe no?
#  - 風間呀 而家點算好呀 - 點算好 呀 vs 點算 好呀
out = searcher(&quot;你唔使做嘢喇&quot;)
print(collapse(out))</code></pre>
<pre><code>## 你 唔使 做嘢 喇</code></pre>
</div>
</div>
<div id="summary" class="section level2">
<h2>Summary</h2>
<ul>
<li>A* well poised to resolve issues of aggressive, early pairs</li>
<li>In other cases, less clear which is more beneficial</li>
<li>Obvious way to resolve is empirical analysis</li>
<li>Alternatives
<ul>
<li>use POS (can use dictionary approach)</li>
<li>jieba (need corpus)</li>
</ul></li>
</ul>
</div>
</div>

    </div>
    
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; 2017 | Follow on <a href="https://twitter.com/chowthedog" target="_blank">Twitter</a> | <a href="https://github.com/mgjohansen/hucore.git" target="_blank">Hucore theme</a> & <a href="http://gohugo.io" target="_blank">Hugo</a> ♥</p>
  </div>
</section>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js" integrity="sha256-+bhVTaRmJ/c07eV80nU8gD2cBBF0rYkf1txqXlrbvb0=" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/go.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/dockerfile.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-117743385-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



</body>
